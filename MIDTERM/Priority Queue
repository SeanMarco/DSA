#include <stdio.h>

#define MAX 10

typedef struct {
    int data[MAX];
    int count;
} PriorityQueue;

/* Initialize */
void initPQ(PriorityQueue *pq) {
    pq->count = 0;
}

/* Check if empty */
int isEmpty(PriorityQueue *pq) {
    return pq->count == 0;
}

/* Insert (enqueue with priority) */
void insert(PriorityQueue *pq, int value) {
    int i;

    if (pq->count == MAX)
        return;

    for (i = pq->count - 1; i >= 0 && pq->data[i] > value; i--) {
        pq->data[i + 1] = pq->data[i];
    }

    pq->data[i + 1] = value;
    pq->count++;
}

/* Remove highest priority element */
int removePQ(PriorityQueue *pq) {
    if (isEmpty(pq))
        return -1;

    return pq->data[--pq->count];
}

/* Peek highest priority */
int peek(PriorityQueue *pq) {
    if (isEmpty(pq))
        return -1;

    return pq->data[pq->count - 1];
}

/* Display */
void display(PriorityQueue *pq) {
    for (int i = 0; i < pq->count; i++)
        printf("%d ", pq->data[i]);
    printf("\n");
}

int main() {
    PriorityQueue pq;
    initPQ(&pq);

    insert(&pq, 4);
    insert(&pq, 1);
    insert(&pq, 3);
    insert(&pq, 2);

    display(&pq);

    printf("Removed: %d\n", removePQ(&pq));
    display(&pq);

    return 0;
}

